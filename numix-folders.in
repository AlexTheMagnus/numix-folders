#!/usr/bin/env python3
# -*- coding: utf-8 -*-
from os import path
import signal
import sys
import locale
import faulthandler
import gettext
from gi.repository import Gio

sys.path.insert(1, '@PYTHON_DIR@')

from NumixFolders.application import Application


if __name__ == "__main__":
    locale.bindtextdomain('@PACKAGE@', '@LOCALE_DIR@')
    locale.textdomain('@PACKAGE@')
    gettext.bindtextdomain('@PACKAGE@', '@LOCALE_DIR@')
    gettext.textdomain('@PACKAGE@')

    resource = Gio.resource_load(path.join('@DATA_DIR@',
                                           'org.Numix.Folders.gresource'))
    Gio.Resource._register(resource)

    signal.signal(signal.SIGINT, signal.SIG_DFL)
    faulthandler.enable()
    app = Application()
    exit_status = app.run(sys.argv)
    sys.exit(exit_status)
